# AI-Yunxun å‰ç«¯æ¶æ„æ–‡æ¡£

## ğŸ“‹ é¡¹ç›®æ¦‚è§ˆ

**é¡¹ç›®åç§°**: AI-Yunxun Frontend  
**æŠ€æœ¯æ ˆ**: Next.js 16.0.7 + React 19.2.0 + TypeScript 5  
**æ¶æ„æ¨¡å¼**: App Router + ç»„ä»¶åŒ–è®¾è®¡  
**ä¸»è¦åŠŸèƒ½**: æ™ºèƒ½å¯¹è¯ç•Œé¢ã€çŸ¥è¯†å›¾è°±å¯è§†åŒ–ã€å›¾è¡¨å±•ç¤º

---

## ğŸ—ï¸ æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ç”¨æˆ·ç•Œé¢å±‚                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ChatPage (app/chat/page.tsx)                        â”‚   â”‚
â”‚  â”‚  - ä¸»èŠå¤©é¡µé¢                                        â”‚   â”‚
â”‚  â”‚  - å¸ƒå±€ç®¡ç†                                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ChatPanel                 â”‚  â”‚  GraphPanel               â”‚
â”‚  - å¯¹è¯ç•Œé¢                â”‚  â”‚  - å›¾è°±å¯è§†åŒ–             â”‚
â”‚  - æ¶ˆæ¯åˆ—è¡¨                â”‚  â”‚  - ECharts åŠ›å¯¼å‘å›¾       â”‚
â”‚  - è¾“å…¥æ¡†                  â”‚  â”‚  - äº¤äº’å¼æ“ä½œ             â”‚
â”‚  - ChartPanel åµŒå…¥         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      API è·¯ç”±å±‚                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  app/api/chat/route.ts                               â”‚   â”‚
â”‚  â”‚  - POST /api/chat                                    â”‚   â”‚
â”‚  â”‚  - ä»£ç†åˆ°åç«¯æœåŠ¡                                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      åç«¯æœåŠ¡å±‚                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  http://localhost:8080/api/chat                       â”‚   â”‚
â”‚  â”‚  - Spring Boot åç«¯                                   â”‚   â”‚
â”‚  â”‚  - MCP å·¥å…·é›†æˆ                                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
frontend/
â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â”œâ”€â”€ api/                      # API è·¯ç”±
â”‚   â”‚   â””â”€â”€ chat/
â”‚   â”‚       â””â”€â”€ route.ts          # èŠå¤© API è·¯ç”±
â”‚   â”œâ”€â”€ chat/                     # èŠå¤©é¡µé¢
â”‚   â”‚   â”œâ”€â”€ layout.tsx            # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â””â”€â”€ page.tsx              # ä¸»é¡µé¢
â”‚   â”œâ”€â”€ globals.css               # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ layout.tsx                # æ ¹å¸ƒå±€
â”‚   â””â”€â”€ page.tsx                  # é¦–é¡µ
â”‚
â”œâ”€â”€ components/                   # React ç»„ä»¶
â”‚   â”œâ”€â”€ chat/
â”‚   â”‚   â””â”€â”€ ChatPanel.tsx        # èŠå¤©é¢æ¿ç»„ä»¶
â”‚   â”œâ”€â”€ graph/
â”‚   â”‚   â””â”€â”€ GraphPanel.tsx       # å›¾è°±é¢æ¿ç»„ä»¶
â”‚   â””â”€â”€ chart/
â”‚       â””â”€â”€ ChartPanel.tsx       # å›¾è¡¨é¢æ¿ç»„ä»¶
â”‚
â”œâ”€â”€ lib/                          # å·¥å…·åº“
â”‚   â””â”€â”€ mcp/
â”‚       â””â”€â”€ types.ts             # MCP ç±»å‹å®šä¹‰
â”‚
â”œâ”€â”€ public/                       # é™æ€èµ„æº
â”‚   â””â”€â”€ img.png
â”‚
â”œâ”€â”€ next.config.ts                # Next.js é…ç½®
â”œâ”€â”€ package.json                  # ä¾èµ–é…ç½®
â”œâ”€â”€ tsconfig.json                 # TypeScript é…ç½®
â””â”€â”€ tailwind.config.js            # Tailwind CSS é…ç½®
```

---

## ğŸ¨ æ ¸å¿ƒç»„ä»¶

### 1. ChatPage (`app/chat/page.tsx`)

**åŠŸèƒ½**: ä¸»èŠå¤©é¡µé¢ï¼Œç®¡ç†æ•´ä½“å¸ƒå±€

**ç‰¹æ€§**:
- å·¦å³åˆ†æ å¸ƒå±€
- å·¦ä¾§ï¼šèŠå¤©é¢æ¿
- å³ä¾§ï¼šå›¾è°±é¢æ¿ï¼ˆæ¡ä»¶æ¸²æŸ“ï¼‰

**ä»£ç ç»“æ„**:
```typescript
export default function ChatPage() {
  const [graphData, setGraphData] = useState<GraphData | null>(null);

  return (
    <div className="flex flex-1 h-screen m-0 p-4 gap-4">
      <div className="flex-1 h-full">
        <ChatPanel onGraphChange={setGraphData} />
      </div>
      <div className="w-80 h-full shrink-0">
        {graphData ? (
          <GraphPanel data={graphData} />
        ) : (
          <div>å›¾è°±åŒºæç¤ºä¿¡æ¯</div>
        )}
      </div>
    </div>
  );
}
```

### 2. ChatPanel (`components/chat/ChatPanel.tsx`)

**åŠŸèƒ½**: èŠå¤©é¢æ¿ï¼Œå¤„ç†ç”¨æˆ·äº¤äº’å’Œæ¶ˆæ¯æ˜¾ç¤º

**ç‰¹æ€§**:
- æ¶ˆæ¯åˆ—è¡¨å±•ç¤º
- è¾“å…¥æ¡†å’Œå‘é€æŒ‰é’®
- å›¾è¡¨é¢æ¿åµŒå…¥
- å›¾è°±æ•°æ®å›è°ƒ

**çŠ¶æ€ç®¡ç†**:
```typescript
const [messages, setMessages] = useState<ChatMessage[]>([]);
const [input, setInput] = useState("");
const [loading, setLoading] = useState(false);
const [chart, setChart] = useState<ChartResponse | null>(null);
```

**æ ¸å¿ƒæ–¹æ³•**:
```typescript
async function handleSend() {
  // 1. å‘é€ç”¨æˆ·æ¶ˆæ¯åˆ°åç«¯
  // 2. å¤„ç†å“åº”ï¼ˆreply, graphJson, chartJsonï¼‰
  // 3. æ›´æ–°æ¶ˆæ¯åˆ—è¡¨
  // 4. æ›´æ–°å›¾è°±å’Œå›¾è¡¨æ•°æ®
}
```

**å“åº”å¤„ç†**:
```typescript
const data = await res.json();
// å¤„ç†è‡ªç„¶è¯­è¨€å›å¤
const replyText = data.reply ?? BACKEND_ERROR_MESSAGE;

// å¤„ç†å›¾è°±æ•°æ®
if (data.graphJson) {
  const parsedGraph = JSON.parse(data.graphJson) as GraphData;
  onGraphChange?.(parsedGraph);
}

// å¤„ç†å›¾è¡¨æ•°æ®
if (data.chartJson) {
  const parsedChart = JSON.parse(data.chartJson) as ChartResponse;
  setChart(parsedChart);
}
```

### 3. GraphPanel (`components/graph/GraphPanel.tsx`)

**åŠŸèƒ½**: å›¾è°±å¯è§†åŒ–é¢æ¿ï¼Œä½¿ç”¨ ECharts æ¸²æŸ“åŠ›å¯¼å‘å›¾

**ç‰¹æ€§**:
- ECharts åŠ›å¯¼å‘å›¾
- èŠ‚ç‚¹å’Œè¾¹çš„äº¤äº’
- æ‹–æ‹½ã€ç¼©æ”¾åŠŸèƒ½
- åŠ¨æ€æ•°æ®æ›´æ–°

**ç±»å‹å®šä¹‰**:
```typescript
export type GraphNode = {
  id: string;
  label: string;
  type?: string;
};

export type GraphEdge = {
  id: string;
  source: string;
  target: string;
  label?: string;
};

export type GraphData = {
  nodes: GraphNode[];
  edges: GraphEdge[];
};
```

**ECharts é…ç½®**:
```typescript
const option = {
  tooltip: { /* ... */ },
  series: [{
    type: "graph",
    layout: "force",
    roam: true,
    draggable: true,
    force: {
      repulsion: 260,
      edgeLength: 80,
    },
    data: data.nodes.map(/* ... */),
    links: data.edges.map(/* ... */),
  }],
};
```

**ç”Ÿå‘½å‘¨æœŸ**:
```typescript
useEffect(() => {
  const chart = echarts.init(containerRef.current);
  chart.setOption(option);
  
  const handleResize = () => chart.resize();
  window.addEventListener("resize", handleResize);
  
  return () => {
    window.removeEventListener("resize", handleResize);
    chart.dispose();
  };
}, [data]);
```

### 4. ChartPanel (`components/chart/ChartPanel.tsx`)

**åŠŸèƒ½**: å›¾è¡¨å±•ç¤ºé¢æ¿ï¼Œä½¿ç”¨ ECharts æ¸²æŸ“å„ç§å›¾è¡¨

**ç‰¹æ€§**:
- æ”¯æŒå¤šç§å›¾è¡¨ç±»å‹ï¼ˆæŸ±çŠ¶å›¾ã€æŠ˜çº¿å›¾ç­‰ï¼‰
- è‡ªåŠ¨é€‚é…å®¹å™¨å¤§å°
- æ˜¾ç¤ºæ´å¯Ÿæ‘˜è¦

**ç±»å‹å®šä¹‰**:
```typescript
export type ChartResponse = {
  chartType?: string;
  engine?: string;
  title?: string;
  description?: string;
  chartSpec?: echarts.EChartsOption;
  data?: Array<Record<string, unknown>>;
  insightSummary?: string;
  insightBullets?: string[];
};
```

**æ¸²æŸ“é€»è¾‘**:
```typescript
useEffect(() => {
  const instance = echarts.init(containerRef.current);
  
  if (chart && chart.engine === "echarts" && chart.chartSpec) {
    instance.setOption(chart.chartSpec);
  } else {
    instance.clear();
  }
  
  // å¤„ç†çª—å£å¤§å°å˜åŒ–
  // ...
}, [chart]);
```

### 5. API è·¯ç”± (`app/api/chat/route.ts`)

**åŠŸèƒ½**: Next.js API è·¯ç”±ï¼Œä»£ç†è¯·æ±‚åˆ°åç«¯

**å®ç°**:
```typescript
export async function POST(req: Request) {
  const body = await req.json();
  
  const res = await fetch(`${BACKEND_BASE_URL}/api/chat`, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ message: body.message }),
  });
  
  if (!res.ok) {
    return new Response(
      JSON.stringify({ error: "Backend chat request failed" }),
      { status: 500 }
    );
  }
  
  return Response.json(await res.json());
}
```

**é…ç½®**:
- `BACKEND_BASE_URL`: ç¯å¢ƒå˜é‡æˆ–é»˜è®¤å€¼ `http://localhost:8080`

---

## ğŸ”„ æ•°æ®æµ

### ç”¨æˆ·å‘é€æ¶ˆæ¯æµç¨‹

```
ç”¨æˆ·è¾“å…¥é—®é¢˜
    â”‚
    â–¼
ChatPanel.handleSend()
    â”‚
    â”œâ”€â–º æ·»åŠ åˆ°æ¶ˆæ¯åˆ—è¡¨
    â”œâ”€â–º è®¾ç½® loading çŠ¶æ€
    â”‚
    â–¼
POST /api/chat
    â”‚
    â–¼
app/api/chat/route.ts
    â”‚
    â–¼
POST http://localhost:8080/api/chat
    â”‚
    â–¼
åç«¯å¤„ç†ï¼ˆMcpChatServiceï¼‰
    â”‚
    â–¼
è¿”å›å“åº”
    {
      reply: "è‡ªç„¶è¯­è¨€å›ç­”",
      graphJson: "{...}",  // å¯é€‰
      chartJson: "{...}"   // å¯é€‰
    }
    â”‚
    â–¼
ChatPanel å¤„ç†å“åº”
    â”‚
    â”œâ”€â–º æ›´æ–°æ¶ˆæ¯åˆ—è¡¨ï¼ˆæ·»åŠ åŠ©æ‰‹å›å¤ï¼‰
    â”œâ”€â–º è§£æ graphJson â†’ è°ƒç”¨ onGraphChange
    â”œâ”€â–º è§£æ chartJson â†’ æ›´æ–° chart çŠ¶æ€
    â””â”€â–º æ¸…é™¤ loading çŠ¶æ€
```

### å›¾è°±æ•°æ®æµ

```
åç«¯è¿”å› graphJson
    â”‚
    â–¼
ChatPanel è§£æ JSON
    â”‚
    â–¼
è°ƒç”¨ onGraphChange(parsedGraph)
    â”‚
    â–¼
ChatPage æ›´æ–° graphData çŠ¶æ€
    â”‚
    â–¼
GraphPanel æ¥æ”¶æ–°æ•°æ®
    â”‚
    â–¼
useEffect è§¦å‘
    â”‚
    â–¼
ECharts é‡æ–°æ¸²æŸ“å›¾è°±
```

### å›¾è¡¨æ•°æ®æµ

```
åç«¯è¿”å› chartJson
    â”‚
    â–¼
ChatPanel è§£æ JSON
    â”‚
    â–¼
æ›´æ–° chart çŠ¶æ€
    â”‚
    â–¼
ChartPanel æ¥æ”¶æ–°æ•°æ®
    â”‚
    â–¼
useEffect è§¦å‘
    â”‚
    â–¼
ECharts æ¸²æŸ“å›¾è¡¨
```

---

## ğŸ¨ UI è®¾è®¡

### é¢œè‰²æ–¹æ¡ˆ

- **èŠå¤©é¢æ¿**: `#E0F2FE` (æµ…è“è‰²èƒŒæ™¯)
- **å›¾è°±é¢æ¿**: `#EDE9FE` (æµ…ç´«è‰²èƒŒæ™¯)
- **å›¾è¡¨é¢æ¿**: `#FEF3C7` (æµ…é»„è‰²èƒŒæ™¯)
- **è¾“å…¥æ¡†**: ç™½è‰²èƒŒæ™¯ï¼Œè“è‰²è¾¹æ¡†

### å¸ƒå±€ç‰¹ç‚¹

- **å“åº”å¼è®¾è®¡**: ä½¿ç”¨ Tailwind CSS Flexbox
- **å›ºå®šå®½åº¦**: å›¾è°±é¢æ¿å›ºå®š 320px (w-80)
- **è‡ªé€‚åº”é«˜åº¦**: ä½¿ç”¨ `h-screen` å’Œ `flex-1`

### äº¤äº’è®¾è®¡

- **é”®ç›˜å¿«æ·é”®**: Enter å‘é€ï¼ŒShift+Enter æ¢è¡Œ
- **åŠ è½½çŠ¶æ€**: å‘é€æŒ‰é’®æ˜¾ç¤º"å‘é€ä¸­â€¦"
- **é”™è¯¯å¤„ç†**: æ˜¾ç¤ºå‹å¥½çš„é”™è¯¯æç¤º

---

## ğŸ“¦ ä¾èµ–ç®¡ç†

### æ ¸å¿ƒä¾èµ–

```json
{
  "dependencies": {
    "ECharts": "^5.5.0",        // å›¾è¡¨åº“
    "next": "16.0.7",           // Next.js æ¡†æ¶
    "react": "19.2.0",          // React åº“
    "react-dom": "19.2.0"       // React DOM
  },
  "devDependencies": {
    "@tailwindcss/postcss": "^4",  // Tailwind CSS
    "@types/node": "^20",          // Node.js ç±»å‹
    "@types/react": "^19",         // React ç±»å‹
    "typescript": "^5"              // TypeScript
  }
}
```

### å…³é”®ä¾èµ–è¯´æ˜

- **ECharts**: ç”¨äºå›¾è°±å’Œå›¾è¡¨å¯è§†åŒ–
- **Next.js**: React å…¨æ ˆæ¡†æ¶ï¼Œæä¾› App Router
- **Tailwind CSS**: å®ç”¨ä¼˜å…ˆçš„ CSS æ¡†æ¶
- **TypeScript**: ç±»å‹å®‰å…¨çš„ JavaScript

---

## ğŸ”§ é…ç½®è¯´æ˜

### Next.js é…ç½® (`next.config.ts`)

```typescript
import type { NextConfig } from "next";

const nextConfig: NextConfig = {
  /* config options here */
};

export default nextConfig;
```

### TypeScript é…ç½® (`tsconfig.json`)

- è·¯å¾„åˆ«å: `@/*` â†’ `./*`
- ä¸¥æ ¼æ¨¡å¼: å¯ç”¨
- JSX: `react-jsx`

### Tailwind CSS é…ç½®

- ä½¿ç”¨ Tailwind CSS 4.0
- é€šè¿‡ PostCSS é›†æˆ
- å…¨å±€æ ·å¼åœ¨ `app/globals.css`

---

## ğŸš€ å¼€å‘æŒ‡å—

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

è®¿é—® `http://localhost:3000`

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
npm start
```

### ä»£ç è§„èŒƒ

- ä½¿ç”¨ TypeScript ä¸¥æ ¼æ¨¡å¼
- ç»„ä»¶ä½¿ç”¨å‡½æ•°å¼ç»„ä»¶
- ä½¿ç”¨ Hooks ç®¡ç†çŠ¶æ€
- éµå¾ª React æœ€ä½³å®è·µ

### æ·»åŠ æ–°ç»„ä»¶

1. åœ¨ `components/` ç›®å½•ä¸‹åˆ›å»ºæ–°ç»„ä»¶
2. ä½¿ç”¨ TypeScript å®šä¹‰ç±»å‹
3. ä½¿ç”¨ Tailwind CSS è¿›è¡Œæ ·å¼è®¾è®¡
4. å¯¼å‡ºç»„ä»¶ä¾›å…¶ä»–æ¨¡å—ä½¿ç”¨

### æ·»åŠ æ–°é¡µé¢

1. åœ¨ `app/` ç›®å½•ä¸‹åˆ›å»ºæ–°è·¯ç”±
2. åˆ›å»º `page.tsx` æ–‡ä»¶
3. å¯é€‰ï¼šåˆ›å»º `layout.tsx` è‡ªå®šä¹‰å¸ƒå±€

---

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **åç«¯è¿æ¥å¤±è´¥**
   - æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦è¿è¡Œ
   - éªŒè¯ `BACKEND_BASE_URL` é…ç½®
   - æ£€æŸ¥ CORS è®¾ç½®

2. **å›¾è¡¨ä¸æ˜¾ç¤º**
   - æ£€æŸ¥ ECharts æ˜¯å¦æ­£ç¡®åˆå§‹åŒ–
   - éªŒè¯ `chartSpec` æ•°æ®æ ¼å¼
   - æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯

3. **å›¾è°±ä¸æ›´æ–°**
   - æ£€æŸ¥ `graphJson` æ•°æ®æ ¼å¼
   - éªŒè¯ `onGraphChange` å›è°ƒ
   - æŸ¥çœ‹ React çŠ¶æ€æ›´æ–°

4. **æ ·å¼é—®é¢˜**
   - æ£€æŸ¥ Tailwind CSS é…ç½®
   - éªŒè¯ç±»åæ˜¯å¦æ­£ç¡®
   - æŸ¥çœ‹æµè§ˆå™¨å¼€å‘è€…å·¥å…·

### è°ƒè¯•æŠ€å·§

- ä½¿ç”¨ React DevTools æ£€æŸ¥ç»„ä»¶çŠ¶æ€
- ä½¿ç”¨æµè§ˆå™¨ Network é¢æ¿æŸ¥çœ‹ API è¯·æ±‚
- ä½¿ç”¨ Console è¾“å‡ºè°ƒè¯•ä¿¡æ¯
- æ£€æŸ¥ TypeScript ç±»å‹é”™è¯¯

---

## ğŸ¯ æœ€ä½³å®è·µ

### ç»„ä»¶è®¾è®¡

- **å•ä¸€èŒè´£**: æ¯ä¸ªç»„ä»¶åªè´Ÿè´£ä¸€ä¸ªåŠŸèƒ½
- **å¯å¤ç”¨æ€§**: è®¾è®¡é€šç”¨çš„ç»„ä»¶æ¥å£
- **ç±»å‹å®‰å…¨**: ä½¿ç”¨ TypeScript å®šä¹‰æ¸…æ™°çš„ç±»å‹

### çŠ¶æ€ç®¡ç†

- **æœ¬åœ°çŠ¶æ€**: ä½¿ç”¨ `useState` ç®¡ç†ç»„ä»¶å†…éƒ¨çŠ¶æ€
- **çŠ¶æ€æå‡**: å…±äº«çŠ¶æ€æå‡åˆ°çˆ¶ç»„ä»¶
- **å‰¯ä½œç”¨**: ä½¿ç”¨ `useEffect` å¤„ç†å‰¯ä½œç”¨

### æ€§èƒ½ä¼˜åŒ–

- **æ‡’åŠ è½½**: ä½¿ç”¨åŠ¨æ€å¯¼å…¥å‡å°‘åˆå§‹åŒ…å¤§å°
- **Memoization**: ä½¿ç”¨ `useMemo` å’Œ `useCallback`
- **è™šæ‹Ÿæ»šåŠ¨**: å¯¹äºé•¿åˆ—è¡¨ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨

---

## ğŸš§ æ‰©å±•æ–¹å‘

### åŠŸèƒ½æ‰©å±•

1. **æ¶ˆæ¯å†å²**: æŒä¹…åŒ–èŠå¤©è®°å½•
2. **å¤šç”¨æˆ·æ”¯æŒ**: ç”¨æˆ·è®¤è¯å’Œä¼šè¯ç®¡ç†
3. **æ–‡ä»¶ä¸Šä¼ **: æ”¯æŒä¸Šä¼ æ–‡æ¡£è¿›è¡Œåˆ†æ
4. **å¯¼å‡ºåŠŸèƒ½**: å¯¼å‡ºå›¾è°±å’Œå›¾è¡¨æ•°æ®

### UI æ”¹è¿›

1. **ä¸»é¢˜åˆ‡æ¢**: æ”¯æŒæ·±è‰²/æµ…è‰²ä¸»é¢˜
2. **å“åº”å¼ä¼˜åŒ–**: ç§»åŠ¨ç«¯é€‚é…
3. **åŠ¨ç”»æ•ˆæœ**: æ·»åŠ è¿‡æ¸¡åŠ¨ç”»
4. **æ— éšœç¢æ”¯æŒ**: æå‡å¯è®¿é—®æ€§

### æŠ€æœ¯ä¼˜åŒ–

1. **çŠ¶æ€ç®¡ç†**: å¼•å…¥ Zustand æˆ– Redux
2. **API å®¢æˆ·ç«¯**: ä½¿ç”¨ React Query ç®¡ç†æ•°æ®
3. **é”™è¯¯è¾¹ç•Œ**: æ·»åŠ é”™è¯¯è¾¹ç•Œç»„ä»¶
4. **æ€§èƒ½ç›‘æ§**: é›†æˆæ€§èƒ½ç›‘æ§å·¥å…·

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [Next.js æ–‡æ¡£](https://nextjs.org/docs)
- [React æ–‡æ¡£](https://react.dev)
- [ECharts æ–‡æ¡£](https://echarts.apache.org)
- [Tailwind CSS æ–‡æ¡£](https://tailwindcss.com)

---

## ğŸ¯ æ€»ç»“

å‰ç«¯æ¶æ„é‡‡ç”¨ **Next.js + React + TypeScript** çš„æŠ€æœ¯ç»„åˆï¼Œå®ç°äº†ï¼š

1. **æ¨¡å—åŒ–è®¾è®¡**: æ¸…æ™°çš„ç»„ä»¶ç»“æ„ï¼Œä¾¿äºç»´æŠ¤
2. **ç±»å‹å®‰å…¨**: TypeScript æä¾›å®Œæ•´çš„ç±»å‹æ£€æŸ¥
3. **å¯è§†åŒ–èƒ½åŠ›**: ECharts æä¾›å¼ºå¤§çš„å›¾è¡¨å’Œå›¾è°±æ¸²æŸ“
4. **å“åº”å¼è®¾è®¡**: Tailwind CSS æä¾›çµæ´»çš„æ ·å¼æ–¹æ¡ˆ
5. **è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒ**: æµç•…çš„äº¤äº’å’Œå‹å¥½çš„ç•Œé¢

æ¶æ„è®¾è®¡éµå¾ªäº†**ç»„ä»¶åŒ–**å’Œ**å…³æ³¨ç‚¹åˆ†ç¦»**çš„åŸåˆ™ï¼Œä¸ºåç»­åŠŸèƒ½æ‰©å±•æä¾›äº†è‰¯å¥½çš„åŸºç¡€ã€‚

